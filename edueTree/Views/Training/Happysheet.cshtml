@model IEnumerable<edueTree.Models.TrainingFeedbackModel>
@{
    ViewBag.Title = "HappySheet";
}

<section class="content-header">
    <h1>
        <small></small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i></a>Training</li>
        <li class="active">Happy Sheet</li>
    </ol>
</section>

@if (@Model.Count() != 0)
{

    <section class="content">
        <div class="row">
            <section class="col-md-12">
                <div class="box box-success">
                    <div class="box-header">
                        <i class="fa fa-calendar"></i>
                        <h3 class="box-title"> Training Happy Sheet</h3>
                        <div class="pull-right">
                            <button type="button" id="btnPrint" class="btn btn-info" onclick=" javascript: printDiv('dvContainer'); ">
                                <i class="fa fa-print"></i> Print
                            </button>
                        </div>
                    </div>

                    <div id="dvContainer" class="box-body chat">

                        <div class="visible-print">
                            <table class="">
                                <div class="col-md-12">
                                    <div class="col-md-3">
                                        <td style="width: 20%; border: none;">
                                            @*@if (@Model.First().FirmLogo != null)
                                        {*@
                                            <img src="~/FirmLogo/@Model.First().FirmLogo" width="200px;"/>
                                            @*}*@
                                        </td>
                                        <td>
                                            &nbsp;&nbsp;&nbsp; <b>@Html.DisplayName("Trainer Name :") </b> &nbsp;&nbsp; @Model.First().TrainerName <br/>
                                            &nbsp;&nbsp;&nbsp; <b>@Html.DisplayName("Trainer Topic :") </b> &nbsp;&nbsp; @Model.First().Topic<br/>
                                            &nbsp;&nbsp;&nbsp; <b>@Html.DisplayName("Duration:") </b> &nbsp;&nbsp; @Model.First().Duration<br/>
                                            &nbsp;&nbsp;&nbsp; <b>@Html.DisplayName("Category:") </b> &nbsp;&nbsp; @Model.First().category<br/>
                                        </td>
                                    </div>
                                </div>
                            </table>
                        </div>
                        <br/>




                        <div class="item">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>
                                            @Html.DisplayName("Universal Id")
                                        </th>
                                        <th>
                                            @Html.DisplayName("Employee Name")
                                        </th>
                                        <th>
                                            @Html.DisplayName("Department")
                                        </th>

                                        <th>
                                            @Html.DisplayName("Feedback ")
                                        </th>
                                        <th>
                                            @Html.DisplayName("Status")
                                        </th>

                                        <th>@Html.DisplayName("Signature")</th>

                                    </tr>
                                    </thead>
                                    <tbody>
                                    @foreach (var item in Model)
                                    {

                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.StaffId1)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.StaffNamea)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Deptname)
                                            </td>

                                            <td>
                                                @Html.DisplayFor(modelItem => item.Feedback)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Status)
                                            </td>

                                            <td></td>
                                        </tr>
                                    }
                                    </tbody>
                                </table>


                            </div>
                        </div>
                    </div>
                    <div class="box-footer">
                        <div class="input-group box-tools pull-right">
                            <a href='@Url.Action("Index")' class="btn btn-default pull-right">Back to list</a>
                        </div>
                    </div>
                    <div class="modal fade" id="myModalInvitationDelete" role="dialog"></div>
                </div>
            </section>
        </div>
    </section>

}
else
{
    <section class="content">
        <div class="row">
            <section class="col-md-12">
                <div class="box box-success">                   
                    <div id="dvContainer" class="box-body chat">
                        <div class="item">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>
                                            @Html.DisplayName("Universal Id")
                                        </th>
                                        <th>
                                            @Html.DisplayName("Employee Name")
                                        </th>
                                        <th>
                                            @Html.DisplayName("Department")
                                        </th>

                                        <th>
                                            @Html.DisplayName("Feedback ")
                                        </th>
                                        <th>
                                            @Html.DisplayName("Status")
                                        </th>

                                        <th>@Html.DisplayName("Signature")</th>

                                    </tr>
                                    </thead>
                                    <tbody>
                                    @foreach (var item in Model)
                                    {

                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.StaffId1)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.StaffNamea)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Deptname)
                                            </td>

                                            <td>
                                                @Html.DisplayFor(modelItem => item.Feedback)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Status)
                                            </td>

                                            <td></td>
                                        </tr>
                                    }
                                    </tbody>
                                </table>


                            </div>
                        </div>
                    </div>
                    <div class="box-footer">
                        <div class="input-group box-tools pull-right">
                            <a href='@Url.Action("Index")' class="btn btn-default pull-right">Back to list</a>
                        </div>
                    </div>
                    <div class="modal fade" id="myModalInvitationDelete" role="dialog"></div>
                </div>
            </section>
        </div>
    </section>
}

<script>
    $(function () {
        $(document).ready(function () {
            $(".table").DataTable({
                dom: "Bfrtip",
                buttons: [
                        "copy", "csv", "excel", "pdf"
                ]
            });
        });

    });


    $("#checkAll").click(function () {
        debugger;
        $(".checkBox").prop('checked',
            $(this).prop('checked'));
    });


    function printDiv(divId) {
        //Get the HTML of div
        var divElements = document.getElementById(divId).innerHTML;
        //Get the HTML of whole page
        var oldPage = document.body.innerHTML;

        //Reset the page's HTML with div's HTML only
        document.body.innerHTML =
         "<!DOCTYPE html><head><title>TRAINING HAPPYSHEET</title></head><body>" +
         divElements + '<div style="position: relative"><p style="position: fixed; bottom: 0; width:100%; text-align: center"></p></body></html>';
        //Print Page
        window.print();
        //Restore orignal HTML
        document.body.innerHTML = oldPage;
    }

</script>


