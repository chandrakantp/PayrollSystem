@model IEnumerable<edueTree.Models.TblLeaveRecord>


@{
    ViewBag.Title = "TblLeaveRecords";
    Layout = null;

}



<section class="content">
    <div class="row">
        <section class="col-lg-12 connectedSortable">
            <div class="box box-success">
                <div class="box-header">
                    <i class="fa fa-calendar"></i>
                    <h3 class="box-title"> Leave Sheet</h3>
                </div>

                <div class="box-body chat" id="chat-box">
                    <div class="table-responsive">
                        <table id="activity" class="table table-bordered">

                            @{
                                foreach (var group in Model.GroupBy(x => x.Staff.staffCode))
                                {

                                    <tr class="group-header">
                                        <td colspan="100">
                                            <div class="h4">@group.Key</div>                                            
                                        </td>
                                    </tr>
                                
                                    <tr style="background-color: #3C8DBC; font-weight: bold">
                                        @foreach (var item in group)
                                        {
                                            <td>
                                                @Html.DisplayFor(modelItem => item.LeaveType.LeaveType1)
                                            </td>
                                        }
                                    </tr>
                                    <tr style="">
                                        @foreach (var item in group)
                                        {
                                            <td>
                                               @Convert.ToDecimal(item.totalLeaves).ToString("0.##")   
                                            </td>
                                        }
                                    </tr>
                                    
                                }
                            }
                        </table>

                    </div>
                </div>

            </div>
        </section>
    </div>
</section>
